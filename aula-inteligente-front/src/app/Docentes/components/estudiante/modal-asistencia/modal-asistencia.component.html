<!-- Fondo oscuro -->
<div class="fixed inset-0 bg-black/50 bg-opacity-50 flex items-center justify-center z-100 ">
  <!-- Modal -->
  <form (submit)="registrarAsistencia($event)"
    class="bg-white w-full max-w-lg rounded-2xl shadow-xl p-6 space-y-4 relative">
    <button (click)="cerrarModalRegistro($event)"
      class="bg-red-500 px-4 py-1 rounded-[10px] absolute right-4 top-4">x</button>
    <h2 class="text-2xl font-bold text-center text-gray-800">Registrar Asistencia</h2>

    <!-- Hora de entrada -->
    <div>
      <label class="block text-sm font-medium mb-1 text-gray-700">Hora de entrada</label>
      <input [value]="fecha()" (change)="fecha.set(txtfecha.value)" #txtfecha type="date" name="hora_entrada"
        class="w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500" />
    </div>

    <!-- Justificación -->
    <div>
      <label class="block text-sm font-medium mb-1 text-gray-700">Justificación</label>
      <textarea [value]="justificacion()" (change)="justificacion.set(txtjustificacion.value)" #txtjustificacion
        name="justificacion" rows="3"
        class="w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"></textarea>
    </div>

    <!-- Trimestre -->
    <div>
      <label class="block text-sm font-medium mb-1 text-gray-700">Trimestre</label>
      <select (change)="obtenerIdTrimestre($event)" name="trimestre"
        class="w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
        <option value="">--</option>
        @for (trimestre of listaTrimestre(); track trimestre.id) {
        <option value="{{trimestre.id}}">{{trimestre.nombre}}</option>
        }
      </select>
    </div>

    <!-- Estudiante -->
    <div>
      <label class="block text-sm font-medium mb-1 text-gray-700">ID Estudiante</label>
      <input [value]="estudiante()" readonly type="number" name="estudiante"
        class="w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500" />
    </div>

    <!-- Materia -->
    <div>
      <label class="block text-sm font-medium mb-1 text-gray-700">ID Materia</label>
      <input [value]="materia()" readonly type="number" name="materia"
        class="w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500" />
    </div>

    <!-- Botones -->
    <div class="flex justify-end gap-3 pt-4">
      <button type="button" class="bg-gray-300 text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-400">
        Cancelar
      </button>
      <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700">
        Guardar
      </button>
    </div>
  </form>
</div>