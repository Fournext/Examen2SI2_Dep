<!-- Fondo oscuro -->
<div class="fixed inset-0 bg-black/50 bg-opacity-50 flex items-center justify-center z-50">
  <!-- Modal -->
  <form (submit)="registrarParticipacion($event)"
    class="bg-white w-full max-w-lg rounded-2xl shadow-xl p-6 space-y-4 relative">
    <h2 class="text-2xl font-bold text-center text-gray-800">Registrar Participaci√≥n</h2>

    <!-- Fecha -->
    <div>
      <label class="block text-sm font-medium mb-1 text-gray-700">Fecha</label>
      <input [value]="fecha()" (input)="fecha.set(txtfecha.value)" #txtfecha type="date" name="fecha"
        class="w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500" />
    </div>

    <!-- Detalle -->
    <div>
      <label class="block text-sm font-medium mb-1 text-gray-700">Detalle</label>
      <textarea [value]="detalle()" (input)="detalle.set(txtdetalle.value)" #txtdetalle name="detalle" rows="3"
        class="w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"></textarea>
    </div>

    <!-- Trimestre -->
    <div>
      <label class="block text-sm font-medium mb-1 text-gray-700">Trimestre</label>
      <select (change)="obtenerIdTrimestre($event)" name="trimestre"
        class="w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
        <option value="">---</option>
        @for (trimestre of listaTrimestres(); track trimestre.id) {
        <option value="{{trimestre.id}}">{{trimestre.nombre}}</option>
        }
      </select>
    </div>

    <!-- Estudiante -->
    <div>
      <label class="block text-sm font-medium mb-1 text-gray-700">ID Estudiante</label>
      <input [value]="estudiante()" readonly type="number" name="estudiante"
        class="w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500" />
    </div>

    <!-- Materia -->
    <div>
      <label class="block text-sm font-medium mb-1 text-gray-700">ID Materia</label>
      <input [value]="materia()" readonly type="number" name="materia"
        class="w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500" />
    </div>

    <!-- Botones -->
    <div class="flex justify-end gap-3 pt-4">
      <button (click)="cerrarModal()" type="button"
        class="bg-gray-300 text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-400">
        Cancelar
      </button>
      <button type="submit" class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700">
        Guardar
      </button>
    </div>
  </form>
</div>